
# Граф друзей ВКонтакте

## Лабораторная работа 1

### Выбранный источник данных и описание датасета
В качестве источника данных нами была выбрана социальная сеть ВКонтакте. Граф составлен следующим образом:

 - Вершины графа представляют из себя пользователей социальной сети.
 - Две вершины графа соединены ребром, если и только если 2 пользователя, соответствующих этим вершинам, "дружат" во ВКонтакте.
 - Каждая вершина имеет атрибут в виде ID пользователя

Для сбора данных использовалось VK API ([https://vk.com/dev/methods](https://vk.com/dev/methods)).

### Описание результатов сбора данных
После сбора мы представили данные в виде списка связности. Далее отправили их в графовую СУБД Neo4j с помощью Py2neo - библиотеки для работы с ней на языке Python.

### Визуализация графа
Визуализировать граф в Neo4j можно следующим образом:
![alt text](/visualization_1.jpg)

## Лабораторная работа 2

### Выбранный алгоритм
Для визуализации графов нами был выбран **алгоритм Камады–Каваи**. Алгоритм Камады–Каваи — это силовой алгоритм для визуализации графов. В его основе лежит идея использования лишь сил пружин между всеми парами вершин с идеальными длинами пружин, равными расстоянию по графу. Целью алгоритма является минимизация энергии в системе пружин.

### Реализация алгоритма
Мы использовали библиотеку NetworkX для Python. В этой библиотеке существует функция, реализующая выбранный нами алгоритм:

 `nx.draw_kamada_kawai(
    G, with_labels=False, node_size=550,
     alpha=0.7, node_color=colors,
    edge_color="gray"
)`

Здесь на вход функции подаются непосредственно граф G и параметры стилизации визуализации графа, такие как:

 - Наличие подписи with_labels = False
 - Размер вершины node_size=550
 - Прозрачность ребер alpha=0.7
 - Цвет вершин node_color=colors, где colors определено заранее
 - Цвет ребер edge_color="gray"

На вход функции мы подали 3 различных графа из датасета, который был создан в лабораторной 1:

 1. Исходный граф друзей.
 2. Граф, состоящий из друзей женского пола.
 3. Граф, состоящий из друзей мужского пола.

### Пример запуска алгоритма на трех графах
 1. Исходный граф друзей ![alt text](/graph1_2.png)
 2. Граф, состоящий из друзей женского пола ![alt text](/girls_kawai.png)
 3. Граф, состоящий из друзей мужского пола ![alt text](/boys_kawai.png)

### Ещё один алгоритм
Помимо реализации алгоритма Камады–Каваи мы также воспользовались функцией draw с Marplotlib, и получили визуализацию следующего вида. 
 1. Исходный граф друзей ![alt text](/graph_draw.png)
 2. Граф, состоящий из друзей женского пола ![alt text](/girls_draw.png)
 3. Граф, состоящий из друзей мужского пола ![alt text](/boys_draw.png)

### Кластеризация
Мы также применили алгоритм кластеризации *SpectralClustering* из библиотеки *sklearn.cluster*. Можно заметить, что четко обозначились несколько кластеров. Кластеры представляют из себя разные сообщества людей. ![alt text](/graph_1_1.png)
